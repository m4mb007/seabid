<div class="bg-white">
  <div class="mx-auto max-w-3xl px-4 py-16 sm:px-6 sm:py-24 lg:px-8">
    <div class="max-w-xl">
      <h1 class="text-3xl font-bold tracking-tight text-gray-900">Processing Payment</h1>
      <p class="mt-2 text-base text-gray-500">Please wait while we redirect you to the secure payment page.</p>
    </div>

    <div class="mt-12">
      <div class="rounded-lg bg-gray-50 p-6">
        <h2 class="text-base font-semibold leading-7 text-gray-900">Order summary</h2>
        <dl class="mt-6 space-y-4">
          <div class="flex items-center justify-between">
            <dt class="text-sm text-gray-600">Amount</dt>
            <dd class="text-sm font-medium text-gray-900">RM <%= number_with_delimiter(@amount) %></dd>
          </div>
          <div class="flex items-center justify-between border-t border-gray-200 pt-4">
            <dt class="text-base font-medium text-gray-900">Total</dt>
            <dd class="text-base font-medium text-gray-900">RM <%= number_with_delimiter(@amount) %></dd>
          </div>
        </dl>
      </div>
    </div>
    
    <div class="mt-8 flex justify-center">
      <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div>
    </div>
  </div>
</div>

<script>
  // This page is just a loading screen - the controller will redirect to Stripe Checkout
  // If the redirect doesn't happen automatically, show an error message after 5 seconds
  setTimeout(function() {
    document.querySelector('.animate-spin').style.display = 'none';
    document.querySelector('.text-base.text-gray-500').textContent = 'Redirect failed. Please try again.';
  }, 5000);
</script>
