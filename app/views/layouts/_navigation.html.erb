<header class="bg-white shadow">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 justify-between">
      <div class="flex items-center">
        <div class="flex-shrink-0">
          <%= link_to root_path do %>
            <span class="text-2xl font-bold text-blue-600">SeaBid</span>
          <% end %>
        </div>
        <nav class="ml-6 flex space-x-4 sm:space-x-8">
          <%= link_to "Home", root_path, class: "inline-flex items-center px-1 pt-1 text-sm font-medium #{current_page?(root_path) ? 'text-blue-600 border-b-2 border-blue-500' : 'text-gray-500 hover:text-gray-700 hover:border-gray-300'}" %>
          <%= link_to "Plate Numbers", plate_numbers_path, class: "inline-flex items-center px-1 pt-1 text-sm font-medium #{controller_name == 'plate_numbers' && action_name == 'index' ? 'text-blue-600 border-b-2 border-blue-500' : 'text-gray-500 hover:text-gray-700 hover:border-gray-300'}" %>
          <% if user_signed_in? %>
            <%= link_to "My Dashboard", dashboard_path, class: "inline-flex items-center px-1 pt-1 text-sm font-medium #{current_page?(dashboard_path) ? 'text-blue-600 border-b-2 border-blue-500' : 'text-gray-500 hover:text-gray-700 hover:border-gray-300'}" %>
            <%= link_to "My Bids", my_bids_path, class: "inline-flex items-center px-1 pt-1 text-sm font-medium #{current_page?(my_bids_path) ? 'text-blue-600 border-b-2 border-blue-500' : 'text-gray-500 hover:text-gray-700 hover:border-gray-300'}" %>
            <%= link_to "My Payments", my_payments_path, class: "inline-flex items-center px-1 pt-1 text-sm font-medium #{current_page?(my_payments_path) ? 'text-blue-600 border-b-2 border-blue-500' : 'text-gray-500 hover:text-gray-700 hover:border-gray-300'}" %>
            <% if current_user.admin? %>
              <%= link_to "Admin", admin_dashboard_path, class: "inline-flex items-center px-1 pt-1 text-sm font-medium #{controller_name.start_with?('admin/') ? 'text-purple-600 border-b-2 border-purple-500' : 'text-purple-500 hover:text-purple-700 hover:border-purple-300'}" %>
            <% end %>
          <% end %>
        </nav>
      </div>
      <div class="flex items-center">
        <% if user_signed_in? %>
          <div class="relative ml-4 flex-shrink-0">
            <div class="flex items-center">
              <div class="mr-3">
                <span class="text-sm text-gray-500"><%= current_user.email %></span>
              </div>
              <div class="dropdown">
                <button type="button" class="flex rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2" id="user-menu-button">
                  <span class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-gray-200">
                    <span class="text-sm font-medium leading-none text-gray-500"><%= current_user.email.first.upcase %></span>
                  </span>
                </button>
                <%= button_to "Sign out", destroy_user_session_path, method: :delete, class: "ml-3 inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" %>
              </div>
            </div>
          </div>
        <% else %>
          <%= link_to "Sign In", new_user_session_path, class: "inline-flex items-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600" %>
          <%= link_to "Sign Up", new_user_registration_path, class: "ml-3 inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" %>
        <% end %>
      </div>
    </div>
  </div>
</header>

<style>
  @media (max-width: 768px) {
    nav.ml-6 {
      overflow-x: auto;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none; /* Firefox */
      padding-bottom: 5px;
    }
    nav.ml-6::-webkit-scrollbar {
      display: none; /* Safari and Chrome */
    }
    .dropdown button span span {
      display: none;
    }
  }
</style> 